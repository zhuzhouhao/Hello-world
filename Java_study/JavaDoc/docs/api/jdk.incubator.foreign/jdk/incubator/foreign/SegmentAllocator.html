<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (18) -->
<title>SegmentAllocator (Java SE 18 &amp; JDK 18)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: jdk.incubator.foreign, package: jdk.incubator.foreign, interface: SegmentAllocator">
<meta name="generator" content="javadoc/ClassWriterImpl">
<meta name="keywords" content="jdk.incubator.foreign.SegmentAllocator interface">
<meta name="keywords" content="allocateUtf8String()">
<meta name="keywords" content="allocate()">
<meta name="keywords" content="allocateArray()">
<meta name="keywords" content="newNativeArena()">
<meta name="keywords" content="prefixAllocator()">
<meta name="keywords" content="nativeAllocator()">
<meta name="keywords" content="implicitAllocator()">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon"></span><span class="nav-bar-toggle-icon"></span><span class="nav-bar-toggle-icon"></span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><div style="margin-top: 14px;"><strong>Java SE 18 &amp; JDK 18</strong> </div></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/SegmentAllocator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../preview-list.html">Preview</a></li>
<li><a href="../../../../new-list.html">New</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../module-summary.html">jdk.incubator.foreign</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">jdk.incubator.foreign</a></div>
<h1 title="Interface SegmentAllocator" class="title">Interface SegmentAllocator</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Functional Interface:</dt>
<dd>This is a functional interface and can therefore be used as the assignment target for a lambda expression or method reference.</dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations"><a href="../../../../java.base/java/lang/FunctionalInterface.html" title="annotation interface in java.lang">@FunctionalInterface</a>
</span><span class="modifiers">public interface </span><span class="element-name type-name-label">SegmentAllocator</span></div>
<div class="block">This interface models a memory allocator. Clients implementing this interface
 must implement the <a href="#allocate(long,long)"><code>allocate(long, long)</code></a> method. This interface defines several default methods
 which can be useful to create segments from several kinds of Java values such as primitives and arrays.
 This interface can be seen as a thin wrapper around the basic capabilities for
 <a href="MemorySegment.html#allocateNative(long,long,jdk.incubator.foreign.ResourceScope)">creating</a> native segments;
 since <a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign"><code>SegmentAllocator</code></a> is a <em>functional interface</em>,
 clients can easily obtain a native allocator by using either a lambda expression or a method reference.
 <p>
 This interface also defines factories for commonly used allocators:
 <ul>
     <li><a href="#nativeAllocator(jdk.incubator.foreign.ResourceScope)"><code>nativeAllocator(ResourceScope)</code></a> creates an allocator which
     <a href="MemorySegment.html#allocateNative(long,long,jdk.incubator.foreign.ResourceScope)">allocates</a> native segments, backed by a given scope;</li>
     <li><a href="#newNativeArena(jdk.incubator.foreign.ResourceScope)"><code>newNativeArena(ResourceScope)</code></a> creates a more efficient arena-style native allocator, where memory
     is allocated in bigger blocks, which are then sliced accordingly to fit allocation requests;</li>
     <li><a href="#prefixAllocator(jdk.incubator.foreign.MemorySegment)"><code>prefixAllocator(MemorySegment)</code></a> creates an allocator which wraps a segment (either on-heap or off-heap)
     and recycles its content upon each new allocation request.</li>
 </ul>
 <p>
 Passing a segment allocator to an API can be especially useful in circumstances where a client wants to communicate <em>where</em>
 the results of a certain operation (performed by the API) should be stored, as a memory segment. For instance,
 <a href="CLinker.html#downcallHandle(jdk.incubator.foreign.FunctionDescriptor)">downcall method handles</a> can accept an additional
 <a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign"><code>SegmentAllocator</code></a> parameter if the underlying native function is known to return a struct by-value. Effectively,
 the allocator parameter tells the linker runtime where to store the return value of the native function.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocate(long)" class="member-name-link">allocate</a><wbr>(long&nbsp;bytesSize)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a memory segment with given size
 and default alignment constraints (1-byte aligned).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#allocate(long,long)" class="member-name-link">allocate</a><wbr>(long&nbsp;bytesSize,
 long&nbsp;bytesAlignment)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Allocate a memory segment with given size and alignment constraints.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocate(jdk.incubator.foreign.MemoryLayout)" class="member-name-link">allocate</a><wbr>(<a href="MemoryLayout.html" title="interface in jdk.incubator.foreign">MemoryLayout</a>&nbsp;layout)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a memory segment with given layout.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocate(jdk.incubator.foreign.ValueLayout.OfAddress,jdk.incubator.foreign.Addressable)" class="member-name-link">allocate</a><wbr>(<a href="ValueLayout.OfAddress.html" title="class in jdk.incubator.foreign">ValueLayout.OfAddress</a>&nbsp;layout,
 <a href="Addressable.html" title="interface in jdk.incubator.foreign">Addressable</a>&nbsp;value)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a memory segment with given layout and initialize it with given address value
 (expressed as an <a href="Addressable.html" title="interface in jdk.incubator.foreign"><code>Addressable</code></a> instance).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocate(jdk.incubator.foreign.ValueLayout.OfByte,byte)" class="member-name-link">allocate</a><wbr>(<a href="ValueLayout.OfByte.html" title="class in jdk.incubator.foreign">ValueLayout.OfByte</a>&nbsp;layout,
 byte&nbsp;value)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a memory segment with given layout and initialize it with given byte value.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocate(jdk.incubator.foreign.ValueLayout.OfChar,char)" class="member-name-link">allocate</a><wbr>(<a href="ValueLayout.OfChar.html" title="class in jdk.incubator.foreign">ValueLayout.OfChar</a>&nbsp;layout,
 char&nbsp;value)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a memory segment with given layout and initialize it with given char value.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocate(jdk.incubator.foreign.ValueLayout.OfDouble,double)" class="member-name-link">allocate</a><wbr>(<a href="ValueLayout.OfDouble.html" title="class in jdk.incubator.foreign">ValueLayout.OfDouble</a>&nbsp;layout,
 double&nbsp;value)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a memory segment with given layout and initialize it with given double value.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocate(jdk.incubator.foreign.ValueLayout.OfFloat,float)" class="member-name-link">allocate</a><wbr>(<a href="ValueLayout.OfFloat.html" title="class in jdk.incubator.foreign">ValueLayout.OfFloat</a>&nbsp;layout,
 float&nbsp;value)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a memory segment with given layout and initialize it with given float value.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocate(jdk.incubator.foreign.ValueLayout.OfInt,int)" class="member-name-link">allocate</a><wbr>(<a href="ValueLayout.OfInt.html" title="class in jdk.incubator.foreign">ValueLayout.OfInt</a>&nbsp;layout,
 int&nbsp;value)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a memory segment with given layout and initialize it with given int value.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocate(jdk.incubator.foreign.ValueLayout.OfLong,long)" class="member-name-link">allocate</a><wbr>(<a href="ValueLayout.OfLong.html" title="class in jdk.incubator.foreign">ValueLayout.OfLong</a>&nbsp;layout,
 long&nbsp;value)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a memory segment with given layout and initialize it with given long value.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocate(jdk.incubator.foreign.ValueLayout.OfShort,short)" class="member-name-link">allocate</a><wbr>(<a href="ValueLayout.OfShort.html" title="class in jdk.incubator.foreign">ValueLayout.OfShort</a>&nbsp;layout,
 short&nbsp;value)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a memory segment with given layout and initialize it with given short value.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocateArray(jdk.incubator.foreign.MemoryLayout,long)" class="member-name-link">allocateArray</a><wbr>(<a href="MemoryLayout.html" title="interface in jdk.incubator.foreign">MemoryLayout</a>&nbsp;elementLayout,
 long&nbsp;count)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a memory segment with given element layout and size.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocateArray(jdk.incubator.foreign.ValueLayout.OfByte,byte%5B%5D)" class="member-name-link">allocateArray</a><wbr>(<a href="ValueLayout.OfByte.html" title="class in jdk.incubator.foreign">ValueLayout.OfByte</a>&nbsp;elementLayout,
 byte[]&nbsp;array)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a memory segment with given layout and initialize it with given byte array.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocateArray(jdk.incubator.foreign.ValueLayout.OfChar,char%5B%5D)" class="member-name-link">allocateArray</a><wbr>(<a href="ValueLayout.OfChar.html" title="class in jdk.incubator.foreign">ValueLayout.OfChar</a>&nbsp;elementLayout,
 char[]&nbsp;array)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a memory segment with given layout and initialize it with given char array.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocateArray(jdk.incubator.foreign.ValueLayout.OfDouble,double%5B%5D)" class="member-name-link">allocateArray</a><wbr>(<a href="ValueLayout.OfDouble.html" title="class in jdk.incubator.foreign">ValueLayout.OfDouble</a>&nbsp;elementLayout,
 double[]&nbsp;array)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a memory segment with given layout and initialize it with given double array.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocateArray(jdk.incubator.foreign.ValueLayout.OfFloat,float%5B%5D)" class="member-name-link">allocateArray</a><wbr>(<a href="ValueLayout.OfFloat.html" title="class in jdk.incubator.foreign">ValueLayout.OfFloat</a>&nbsp;elementLayout,
 float[]&nbsp;array)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a memory segment with given layout and initialize it with given float array.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocateArray(jdk.incubator.foreign.ValueLayout.OfInt,int%5B%5D)" class="member-name-link">allocateArray</a><wbr>(<a href="ValueLayout.OfInt.html" title="class in jdk.incubator.foreign">ValueLayout.OfInt</a>&nbsp;elementLayout,
 int[]&nbsp;array)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a memory segment with given layout and initialize it with given int array.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocateArray(jdk.incubator.foreign.ValueLayout.OfLong,long%5B%5D)" class="member-name-link">allocateArray</a><wbr>(<a href="ValueLayout.OfLong.html" title="class in jdk.incubator.foreign">ValueLayout.OfLong</a>&nbsp;elementLayout,
 long[]&nbsp;array)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a memory segment with given layout and initialize it with given long array.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocateArray(jdk.incubator.foreign.ValueLayout.OfShort,short%5B%5D)" class="member-name-link">allocateArray</a><wbr>(<a href="ValueLayout.OfShort.html" title="class in jdk.incubator.foreign">ValueLayout.OfShort</a>&nbsp;elementLayout,
 short[]&nbsp;array)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Allocate a memory segment with given layout and initialize it with given short array.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allocateUtf8String(java.lang.String)" class="member-name-link">allocateUtf8String</a><wbr>(<a href="../../../../java.base/java/lang/String.html" title="class in java.lang">String</a>&nbsp;str)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Converts a Java string into a UTF-8 encoded, null-terminated C string,
 storing the result into a memory segment.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static <a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#implicitAllocator()" class="member-name-link">implicitAllocator</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">Returns a native allocator which allocates segments in independent <a href="ResourceScope.html#newImplicitScope()">implicit scopes</a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1"><code>static <a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1"><code><a href="#nativeAllocator(jdk.incubator.foreign.ResourceScope)" class="member-name-link">nativeAllocator</a><wbr>(<a href="ResourceScope.html" title="interface in jdk.incubator.foreign">ResourceScope</a>&nbsp;scope)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1">
<div class="block">Returns a native allocator, associated with the provided scope.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static <a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#newNativeArena(long,long,jdk.incubator.foreign.ResourceScope)" class="member-name-link">newNativeArena</a><wbr>(long&nbsp;arenaSize,
 long&nbsp;blockSize,
 <a href="ResourceScope.html" title="interface in jdk.incubator.foreign">ResourceScope</a>&nbsp;scope)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">Returns a native arena-based allocator, associated with the provided scope, with given arena size and block size.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1"><code>static <a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1"><code><a href="#newNativeArena(long,jdk.incubator.foreign.ResourceScope)" class="member-name-link">newNativeArena</a><wbr>(long&nbsp;arenaSize,
 <a href="ResourceScope.html" title="interface in jdk.incubator.foreign">ResourceScope</a>&nbsp;scope)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1">
<div class="block">Returns a native unbounded arena-based allocator, with block size set to the specified arena size, associated with
 the provided scope, with given arena size.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static <a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#newNativeArena(jdk.incubator.foreign.ResourceScope)" class="member-name-link">newNativeArena</a><wbr>(<a href="ResourceScope.html" title="interface in jdk.incubator.foreign">ResourceScope</a>&nbsp;scope)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">Returns a native unbounded arena-based allocator, with predefined block size and maximum arena size,
 associated with the provided scope.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1"><code>static <a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1"><code><a href="#prefixAllocator(jdk.incubator.foreign.MemorySegment)" class="member-name-link">prefixAllocator</a><wbr>(<a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a>&nbsp;segment)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1">
<div class="block">Returns a segment allocator which responds to allocation requests by recycling a single segment; that is,
 each new allocation request will return a new slice starting at the segment offset <code>0</code> (alignment
 constraints are ignored by this allocator), hence the name <em>prefix allocator</em>.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="allocateUtf8String(java.lang.String)">
<h3>allocateUtf8String</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocateUtf8String</span><wbr><span class="parameters">(<a href="../../../../java.base/java/lang/String.html" title="class in java.lang">String</a>&nbsp;str)</span></div>
<div class="block">Converts a Java string into a UTF-8 encoded, null-terminated C string,
 storing the result into a memory segment.
 <p>
 This method always replaces malformed-input and unmappable-character
 sequences with this charset's default replacement byte array.  The
 <a href="../../../../java.base/java/nio/charset/CharsetEncoder.html" title="class in java.nio.charset"><code>CharsetEncoder</code></a> class should be used when more
 control over the encoding process is required.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method copies the contents of the provided Java string
 into a new memory segment obtained by calling <code>this.allocate(str.length() + 1)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>str</code> - the Java string to be converted into a C string.</dd>
<dt>Returns:</dt>
<dd>a new native memory segment containing the converted C string.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocate(jdk.incubator.foreign.ValueLayout.OfByte,byte)">
<h3>allocate</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocate</span><wbr><span class="parameters">(<a href="ValueLayout.OfByte.html" title="class in jdk.incubator.foreign">ValueLayout.OfByte</a>&nbsp;layout,
 byte&nbsp;value)</span></div>
<div class="block">Allocate a memory segment with given layout and initialize it with given byte value.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocate(layout)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>layout</code> - the layout of the block of memory to be allocated.</dd>
<dd><code>value</code> - the value to be set on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocate(jdk.incubator.foreign.ValueLayout.OfChar,char)">
<h3>allocate</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocate</span><wbr><span class="parameters">(<a href="ValueLayout.OfChar.html" title="class in jdk.incubator.foreign">ValueLayout.OfChar</a>&nbsp;layout,
 char&nbsp;value)</span></div>
<div class="block">Allocate a memory segment with given layout and initialize it with given char value.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocate(layout)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>layout</code> - the layout of the block of memory to be allocated.</dd>
<dd><code>value</code> - the value to be set on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocate(jdk.incubator.foreign.ValueLayout.OfShort,short)">
<h3>allocate</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocate</span><wbr><span class="parameters">(<a href="ValueLayout.OfShort.html" title="class in jdk.incubator.foreign">ValueLayout.OfShort</a>&nbsp;layout,
 short&nbsp;value)</span></div>
<div class="block">Allocate a memory segment with given layout and initialize it with given short value.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocate(layout)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>layout</code> - the layout of the block of memory to be allocated.</dd>
<dd><code>value</code> - the value to be set on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocate(jdk.incubator.foreign.ValueLayout.OfInt,int)">
<h3>allocate</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocate</span><wbr><span class="parameters">(<a href="ValueLayout.OfInt.html" title="class in jdk.incubator.foreign">ValueLayout.OfInt</a>&nbsp;layout,
 int&nbsp;value)</span></div>
<div class="block">Allocate a memory segment with given layout and initialize it with given int value.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocate(layout)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>layout</code> - the layout of the block of memory to be allocated.</dd>
<dd><code>value</code> - the value to be set on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocate(jdk.incubator.foreign.ValueLayout.OfFloat,float)">
<h3>allocate</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocate</span><wbr><span class="parameters">(<a href="ValueLayout.OfFloat.html" title="class in jdk.incubator.foreign">ValueLayout.OfFloat</a>&nbsp;layout,
 float&nbsp;value)</span></div>
<div class="block">Allocate a memory segment with given layout and initialize it with given float value.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocate(layout)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>layout</code> - the layout of the block of memory to be allocated.</dd>
<dd><code>value</code> - the value to be set on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocate(jdk.incubator.foreign.ValueLayout.OfLong,long)">
<h3>allocate</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocate</span><wbr><span class="parameters">(<a href="ValueLayout.OfLong.html" title="class in jdk.incubator.foreign">ValueLayout.OfLong</a>&nbsp;layout,
 long&nbsp;value)</span></div>
<div class="block">Allocate a memory segment with given layout and initialize it with given long value.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocate(layout)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>layout</code> - the layout of the block of memory to be allocated.</dd>
<dd><code>value</code> - the value to be set on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocate(jdk.incubator.foreign.ValueLayout.OfDouble,double)">
<h3>allocate</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocate</span><wbr><span class="parameters">(<a href="ValueLayout.OfDouble.html" title="class in jdk.incubator.foreign">ValueLayout.OfDouble</a>&nbsp;layout,
 double&nbsp;value)</span></div>
<div class="block">Allocate a memory segment with given layout and initialize it with given double value.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocate(layout)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>layout</code> - the layout of the block of memory to be allocated.</dd>
<dd><code>value</code> - the value to be set on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocate(jdk.incubator.foreign.ValueLayout.OfAddress,jdk.incubator.foreign.Addressable)">
<h3>allocate</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocate</span><wbr><span class="parameters">(<a href="ValueLayout.OfAddress.html" title="class in jdk.incubator.foreign">ValueLayout.OfAddress</a>&nbsp;layout,
 <a href="Addressable.html" title="interface in jdk.incubator.foreign">Addressable</a>&nbsp;value)</span></div>
<div class="block">Allocate a memory segment with given layout and initialize it with given address value
 (expressed as an <a href="Addressable.html" title="interface in jdk.incubator.foreign"><code>Addressable</code></a> instance).
 The address value might be narrowed according to the platform address size (see <a href="ValueLayout.html#ADDRESS"><code>ValueLayout.ADDRESS</code></a>).</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocate(layout)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>layout</code> - the layout of the block of memory to be allocated.</dd>
<dd><code>value</code> - the value to be set on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocateArray(jdk.incubator.foreign.ValueLayout.OfByte,byte[])">
<h3>allocateArray</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocateArray</span><wbr><span class="parameters">(<a href="ValueLayout.OfByte.html" title="class in jdk.incubator.foreign">ValueLayout.OfByte</a>&nbsp;elementLayout,
 byte[]&nbsp;array)</span></div>
<div class="block">Allocate a memory segment with given layout and initialize it with given byte array.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocateArray(layout, array.length)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>elementLayout</code> - the element layout of the array to be allocated.</dd>
<dd><code>array</code> - the array to be copied on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocateArray(jdk.incubator.foreign.ValueLayout.OfShort,short[])">
<h3>allocateArray</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocateArray</span><wbr><span class="parameters">(<a href="ValueLayout.OfShort.html" title="class in jdk.incubator.foreign">ValueLayout.OfShort</a>&nbsp;elementLayout,
 short[]&nbsp;array)</span></div>
<div class="block">Allocate a memory segment with given layout and initialize it with given short array.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocateArray(layout, array.length)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>elementLayout</code> - the element layout of the array to be allocated.</dd>
<dd><code>array</code> - the array to be copied on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocateArray(jdk.incubator.foreign.ValueLayout.OfChar,char[])">
<h3>allocateArray</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocateArray</span><wbr><span class="parameters">(<a href="ValueLayout.OfChar.html" title="class in jdk.incubator.foreign">ValueLayout.OfChar</a>&nbsp;elementLayout,
 char[]&nbsp;array)</span></div>
<div class="block">Allocate a memory segment with given layout and initialize it with given char array.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocateArray(layout, array.length)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>elementLayout</code> - the element layout of the array to be allocated.</dd>
<dd><code>array</code> - the array to be copied on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocateArray(jdk.incubator.foreign.ValueLayout.OfInt,int[])">
<h3>allocateArray</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocateArray</span><wbr><span class="parameters">(<a href="ValueLayout.OfInt.html" title="class in jdk.incubator.foreign">ValueLayout.OfInt</a>&nbsp;elementLayout,
 int[]&nbsp;array)</span></div>
<div class="block">Allocate a memory segment with given layout and initialize it with given int array.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocateArray(layout, array.length)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>elementLayout</code> - the element layout of the array to be allocated.</dd>
<dd><code>array</code> - the array to be copied on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocateArray(jdk.incubator.foreign.ValueLayout.OfFloat,float[])">
<h3>allocateArray</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocateArray</span><wbr><span class="parameters">(<a href="ValueLayout.OfFloat.html" title="class in jdk.incubator.foreign">ValueLayout.OfFloat</a>&nbsp;elementLayout,
 float[]&nbsp;array)</span></div>
<div class="block">Allocate a memory segment with given layout and initialize it with given float array.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocateArray(layout, array.length)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>elementLayout</code> - the element layout of the array to be allocated.</dd>
<dd><code>array</code> - the array to be copied on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocateArray(jdk.incubator.foreign.ValueLayout.OfLong,long[])">
<h3>allocateArray</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocateArray</span><wbr><span class="parameters">(<a href="ValueLayout.OfLong.html" title="class in jdk.incubator.foreign">ValueLayout.OfLong</a>&nbsp;elementLayout,
 long[]&nbsp;array)</span></div>
<div class="block">Allocate a memory segment with given layout and initialize it with given long array.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocateArray(layout, array.length)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>elementLayout</code> - the element layout of the array to be allocated.</dd>
<dd><code>array</code> - the array to be copied on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocateArray(jdk.incubator.foreign.ValueLayout.OfDouble,double[])">
<h3>allocateArray</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocateArray</span><wbr><span class="parameters">(<a href="ValueLayout.OfDouble.html" title="class in jdk.incubator.foreign">ValueLayout.OfDouble</a>&nbsp;elementLayout,
 double[]&nbsp;array)</span></div>
<div class="block">Allocate a memory segment with given layout and initialize it with given double array.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocateArray(layout, array.length)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>elementLayout</code> - the element layout of the array to be allocated.</dd>
<dd><code>array</code> - the array to be copied on the newly allocated memory block.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocate(jdk.incubator.foreign.MemoryLayout)">
<h3>allocate</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocate</span><wbr><span class="parameters">(<a href="MemoryLayout.html" title="interface in jdk.incubator.foreign">MemoryLayout</a>&nbsp;layout)</span></div>
<div class="block">Allocate a memory segment with given layout.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocate(layout.byteSize(), layout.byteAlignment())</code>.</dd>
<dt>Parameters:</dt>
<dd><code>layout</code> - the layout of the block of memory to be allocated.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocateArray(jdk.incubator.foreign.MemoryLayout,long)">
<h3>allocateArray</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocateArray</span><wbr><span class="parameters">(<a href="MemoryLayout.html" title="interface in jdk.incubator.foreign">MemoryLayout</a>&nbsp;elementLayout,
 long&nbsp;count)</span></div>
<div class="block">Allocate a memory segment with given element layout and size.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocate(MemoryLayout.sequenceLayout(count, elementLayout))</code>.</dd>
<dt>Parameters:</dt>
<dd><code>elementLayout</code> - the array element layout.</dd>
<dd><code>count</code> - the array element count.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocate(long)">
<h3>allocate</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocate</span><wbr><span class="parameters">(long&nbsp;bytesSize)</span></div>
<div class="block">Allocate a memory segment with given size
 and default alignment constraints (1-byte aligned).</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>the default implementation for this method calls <code>this.allocate(bytesSize, 1)</code>.</dd>
<dt>Parameters:</dt>
<dd><code>bytesSize</code> - the size (in bytes) of the block of memory to be allocated.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocate(long,long)">
<h3>allocate</h3>
<div class="member-signature"><span class="return-type"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="element-name">allocate</span><wbr><span class="parameters">(long&nbsp;bytesSize,
 long&nbsp;bytesAlignment)</span></div>
<div class="block">Allocate a memory segment with given size and alignment constraints.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>bytesSize</code> - the size (in bytes) of the block of memory to be allocated.</dd>
<dd><code>bytesAlignment</code> - the alignment (in bytes) of the block of memory to be allocated.</dd>
<dt>Returns:</dt>
<dd>a segment for the newly allocated memory block.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="newNativeArena(jdk.incubator.foreign.ResourceScope)">
<h3>newNativeArena</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a></span>&nbsp;<span class="element-name">newNativeArena</span><wbr><span class="parameters">(<a href="ResourceScope.html" title="interface in jdk.incubator.foreign">ResourceScope</a>&nbsp;scope)</span></div>
<div class="block">Returns a native unbounded arena-based allocator, with predefined block size and maximum arena size,
 associated with the provided scope. Equivalent to the following code:
 
<div class="snippet-container"><button class="snippet-copy" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"></button>
<pre class="snippet"><code class="language-java">SegmentAllocator.newNativeArena(Long.MAX_VALUE, predefinedBlockSize, scope);
</code></pre>
</div>
</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>scope</code> - the scope associated with the segments returned by the arena-based allocator.</dd>
<dt>Returns:</dt>
<dd>a new unbounded arena-based allocator</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if <code>scope</code> has been already closed, or if access occurs from a thread other
 than the thread owning <code>scope</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="newNativeArena(long,jdk.incubator.foreign.ResourceScope)">
<h3>newNativeArena</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a></span>&nbsp;<span class="element-name">newNativeArena</span><wbr><span class="parameters">(long&nbsp;arenaSize,
 <a href="ResourceScope.html" title="interface in jdk.incubator.foreign">ResourceScope</a>&nbsp;scope)</span></div>
<div class="block">Returns a native unbounded arena-based allocator, with block size set to the specified arena size, associated with
 the provided scope, with given arena size. Equivalent to the following code:
 
<div class="snippet-container"><button class="snippet-copy" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"></button>
<pre class="snippet"><code class="language-java">SegmentAllocator.newNativeArena(arenaSize, arenaSize, scope);
</code></pre>
</div>
</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>arenaSize</code> - the size (in bytes) of the allocation arena.</dd>
<dd><code>scope</code> - the scope associated with the segments returned by the arena-based allocator.</dd>
<dt>Returns:</dt>
<dd>a new unbounded arena-based allocator</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>arenaSize &lt;= 0</code>.</dd>
<dd><code><a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if <code>scope</code> has been already closed, or if access occurs from a thread other
 than the thread owning <code>scope</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="newNativeArena(long,long,jdk.incubator.foreign.ResourceScope)">
<h3>newNativeArena</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a></span>&nbsp;<span class="element-name">newNativeArena</span><wbr><span class="parameters">(long&nbsp;arenaSize,
 long&nbsp;blockSize,
 <a href="ResourceScope.html" title="interface in jdk.incubator.foreign">ResourceScope</a>&nbsp;scope)</span></div>
<div class="block">Returns a native arena-based allocator, associated with the provided scope, with given arena size and block size.
 <p>
 The returned allocator <a href="MemorySegment.html#allocateNative(long,jdk.incubator.foreign.ResourceScope)">allocates</a> a memory segment
 <code>S</code> of the specified block size and then responds to allocation requests in one of the following ways:
 <ul>
     <li>if the size of the allocation requests is smaller than the size of <code>S</code>, and <code>S</code> has a <em>free</em>
     slice <code>S'</code> which fits that allocation request, return that <code>S'</code>.
     <li>if the size of the allocation requests is smaller than the size of <code>S</code>, and <code>S</code> has no <em>free</em>
     slices which fits that allocation request, allocate a new segment <code>S'</code>, which has same size as <code>S</code>
     and set <code>S = S'</code>; the allocator then tries to respond to the same allocation request again.
     <li>if the size of the allocation requests is bigger than the size of <code>S</code>, allocate a new segment <code>S'</code>,
     which has a sufficient size to satisfy the allocation request, and return <code>S'</code>.
 </ul>
 <p>
 This segment allocator can be useful when clients want to perform multiple allocation requests while avoiding the
 cost associated with allocating a new off-heap memory region upon each allocation request.
 <p>
 The returned allocator might throw an <a href="../../../../java.base/java/lang/OutOfMemoryError.html" title="class in java.lang"><code>OutOfMemoryError</code></a> if the total memory allocated with this allocator
 exceeds the arena size, or the system capacity. Furthermore, the returned allocator is not thread safe.
 Concurrent allocation needs to be guarded with synchronization primitives.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>arenaSize</code> - the size (in bytes) of the allocation arena.</dd>
<dd><code>blockSize</code> - the block size associated with the arena-based allocator.</dd>
<dd><code>scope</code> - the scope associated with the segments returned by the arena-based allocator.</dd>
<dt>Returns:</dt>
<dd>a new unbounded arena-based allocator</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>blockSize &lt;= 0</code>, if <code>arenaSize &lt;= 0</code> or if <code>arenaSize &lt; blockSize</code>.</dd>
<dd><code><a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if <code>scope</code> has been already closed, or if access occurs from a thread other
 than the thread owning <code>scope</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prefixAllocator(jdk.incubator.foreign.MemorySegment)">
<h3>prefixAllocator</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a></span>&nbsp;<span class="element-name">prefixAllocator</span><wbr><span class="parameters">(<a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a>&nbsp;segment)</span></div>
<div class="block">Returns a segment allocator which responds to allocation requests by recycling a single segment; that is,
 each new allocation request will return a new slice starting at the segment offset <code>0</code> (alignment
 constraints are ignored by this allocator), hence the name <em>prefix allocator</em>.
 Equivalent to (but likely more efficient than) the following code:
 
<div class="snippet-container"><button class="snippet-copy" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"></button>
<pre class="snippet"><code class="language-java">MemorySegment segment = ...
SegmentAllocator prefixAllocator = (size, align) -&gt; segment.asSlice(0, size);
</code></pre>
</div>

 <p>
 This allocator can be useful to limit allocation requests in case a client
 knows that they have fully processed the contents of the allocated segment before the subsequent allocation request
 takes place.
 <p>
 While the allocator returned by this method is <em>thread-safe</em>, concurrent access on the same recycling
 allocator might cause a thread to overwrite contents written to the underlying segment by a different thread.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>segment</code> - the memory segment to be recycled by the returned allocator.</dd>
<dt>Returns:</dt>
<dd>an allocator which recycles an existing segment upon each new allocation request.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="nativeAllocator(jdk.incubator.foreign.ResourceScope)">
<h3>nativeAllocator</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a></span>&nbsp;<span class="element-name">nativeAllocator</span><wbr><span class="parameters">(<a href="ResourceScope.html" title="interface in jdk.incubator.foreign">ResourceScope</a>&nbsp;scope)</span></div>
<div class="block">Returns a native allocator, associated with the provided scope. Equivalent to (but likely more efficient than)
 the following code:
 
<div class="snippet-container"><button class="snippet-copy" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"></button>
<pre class="snippet"><code class="language-java">ResourceScope scope = ...
SegmentAllocator nativeAllocator = (size, align) -&gt; MemorySegment.allocateNative(size, align, scope);
</code></pre>
</div>
</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>scope</code> - the scope associated with the returned allocator.</dd>
<dt>Returns:</dt>
<dd>a native allocator, associated with the provided scope.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="implicitAllocator()">
<h3>implicitAllocator</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="SegmentAllocator.html" title="interface in jdk.incubator.foreign">SegmentAllocator</a></span>&nbsp;<span class="element-name">implicitAllocator</span>()</div>
<div class="block">Returns a native allocator which allocates segments in independent <a href="ResourceScope.html#newImplicitScope()">implicit scopes</a>.
 Equivalent to (but likely more efficient than) the following code:
 
<div class="snippet-container"><button class="snippet-copy" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../copy.svg" alt="Copy"></button>
<pre class="snippet"><code class="language-java">SegmentAllocator implicitAllocator = (size, align) -&gt; MemorySegment.allocateNative(size, align, ResourceScope.newImplicitScope());
</code></pre>
</div>
</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a native allocator which allocates segments in independent <a href="ResourceScope.html#newImplicitScope()">implicit scopes</a>.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><a href="https://bugreport.java.com/bugreport/">Report a bug or suggest an enhancement</a><br> For further API reference and developer documentation see the <a href="https://docs.oracle.com/pls/topic/lookup?ctx=javase18&amp;id=homepage" target="_blank">Java SE Documentation</a>, which contains more detailed, developer-targeted descriptions with conceptual overviews, definitions of terms, workarounds, and working code examples. <a href="https://docs.oracle.com/en/java/javase/index.html">Other versions.</a><br> Java is a trademark or registered trademark of Oracle and/or its affiliates in the US and other countries.<br> <a href="../../../../../legal/copyright.html">Copyright</a> &copy; 1993, 2022, Oracle and/or its affiliates, 500 Oracle Parkway, Redwood Shores, CA 94065 USA.<br>All rights reserved. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java18speclicense.html">license terms</a> and the <a href="https://www.oracle.com/technetwork/java/redist-137594.html">documentation redistribution policy</a>. <!-- Version 18.0.2+9-61 --></small></p>
</footer>
</div>
</div>
</body>
</html>
